# 3.2.3. Padrão de Projeto GoF Estrutural Composite

## 1. Introdução

O Composite é um padrão de projeto estrutural, ou seja, possui a função de diminuir o desacoplamento entre os objetos de um sistema. Segundo Gamma et. al (1995), esse padrão possui a função de organizar objetos em estruturas de árvore para representar relações de parte-todo, permitindo que objetos individuais e composições sejam tratados da mesma forma pelos clientes.

## 2. Metodologia

Como o padrão Composite é um padrão de projeto orientado a objetos, utilizamos `Typescript` para o desenvolvimento. O objetivo dessa implementação foi organizar e manipular produtos e grupos de produtos como se fossem um único tipo de objeto, simplificando a interação do cliente com a estrutura e permitindo a composição flexível de elementos. Para isso, foram adotados os seguintes passos:

- Utilização do diagrama de classes, que serviu como base para estruturar os elementos envolvidos no padrão, suas relações e hierarquias.
- Foram utilizados os materiais fornecidos pela professora para o desenvolvimento do tópico, como slides, videoaulas e exemplo de implementação em Java.
- O diagrama mostrado a seguir foi modelado através da ferramenta draw.io, o que auxiliou diretamente na visualização clara da composição dos objetos, seus relacionamentos e hierarquia.

## 3. Participantes

Os participantes da implementação deste Padrão de Projeto estão descritos na tabela abaixo:

<p style="text-align: center;">Tabela 1: Participantes da implementação do Composite</p>

|Matrícula | Aluno |
| -- | -- |
| 21/1061583  |  Daniel Rodrigues  |
| 23/1026302  |  Caio Lucas        |

## 4. Desenvolvimento

O diagrama de classes apresenta a estrutura do sistema de catálogo de produtos, organizada a partir do padrão Composite, evidenciando a relação hierárquica entre categorias e produtos e permitindo representar tanto elementos simples quanto compostos de forma unificada.

<font size="2"><p style="text-align: center"><b>Figura 1:</b> Diagrama do Composite</p></font>


![diagrama_abstract_factory](/../assets/composite.png)

<font size="2"><p style="text-align: center"><b>Fonte:</b> Daniel Rodrigues </p></font>


### 4.1. Definição de uma interface comum (Component)

Representa a interface que define a operação comum para todos os objetos na composição, nesse caso,  a função *getDados()*, implementada em `Catalogo`.

#### 4.1.1. Catalogo

```javascript
export default interface Catalogo {
  getDados(): void;
}
```


### 4.2. Implementação dos Objetos Folha (Leaf)

As classes folha representam os objetos indivisíveis da estrutura. Eles herdam de `Produto` e implementam comportamentes específicos. As classes que são folhas são `Produto`, `ProdutoVenda` e `ProdutoTroca`.

#### 4.2.1. Classe Produto

```javascript

import type Catalogo from "./Catalogo";

export default abstract class Produto implements Catalogo {
  private nome: string;
  private descricao: string;
  private preco: number;
  private modalidade: string;
  private imagem: string[];
  private estado: boolean;

  constructor(nome: string, descricao: string) {
    this.nome = nome;
    this.descricao = descricao;
    this.preco = 0;
    this.imagem = [];
    this.modalidade = "";
    this.estado = true;
  }

  setNome(nome: string): void {
    this.nome = nome;
  }

  getNome(): string {
    return this.nome;
  }

  setDescricao(descricao: string): void {
    this.descricao = descricao;
  }

  getDescricao(): string {
    return this.descricao;
  }

  setPreco(preco: number): void {
    this.preco = preco;
  }

  getPreco(): number {
    return this.preco;
  }

  setModalidade(modalidade: string): void {
    this.modalidade = modalidade;
  }

  getModalidade(): string {
    return this.modalidade;
  }

  setImagem(imagem: string): void {
    this.imagem.push(imagem);
  }

  getImagem(): string[] {
    return this.imagem;
  }

  setEstado(estado: boolean): void {
    this.estado = estado;
  }

  getEstado(): boolean {
    return this.estado;
  }

  getDados(): void {
    console.log(`Nome: ${this.nome}`);
    console.log(`Descrição: ${this.descricao}`);
    console.log(`Preço: ${this.preco}`);
    console.log(`Modalidade: ${this.modalidade}`);
    console.log(`Imagens: ${this.imagem.join(", ")}`);
    console.log(`Estado: ${this.estado ? "Ativo" : "Inativo"}`);
    console.log("\n");
  }
}

```

#### 4.2.2. Classe ProdutoVenda

```javascript
import Produto from "./Produto";

export default class ProdutoVenda extends Produto {
  constructor(nome: string, descricao: string) {
    super(nome, descricao);
    this.setModalidade("Venda");
  }
}

```

#### 4.2.3. Classe ProdutoTroca

```javascript
import Produto from "./Produto";

export default class ProdutoTroca extends Produto {
  private listaItemInteresse: String[];

  constructor(
    nome: string,
    descricao: string,
    listaItemInteresse: String[]
  ) {
    super(nome, descricao);
    this.listaItemInteresse = listaItemInteresse;
    this.setModalidade("Troca");
  }

  getListaItemInteresse(): String[] {
    return this.listaItemInteresse;
  }

  setListaItemInteresse(listaItemInteresse: String[]): void {
    this.listaItemInteresse = listaItemInteresse;
  }

  getDados(): void {
    super.getDados();
    console.log(`Itens de Interesse: ${this.listaItemInteresse.join(", ")}`);
  }
}
```

### 5. Implementação de Objetos Composto (Composite)

Os objetos do tipo Composite armazenam outros componentes. Eles implementam os mesmos métodos da interfaca base, mas adicionam a capacidade de agregar e manipular uma coleção interna de componentes. A classe que define isso é a classe `Categoria`.


#### 5.1. Categoria


```javascript
import type Catalogo from "./Catalogo";

export default class Categoria implements Catalogo {
  private nome: string;
  private catalogos: Catalogo[];

  constructor(nome: string) {
    this.nome = nome;
    this.catalogos = [];
  }

  setNome(nome: string): void {
    this.nome = nome;
  }

  getNome(): string {
    return this.nome;
  }

  adicionarCatalogo(catalogo: Catalogo): void {
    this.catalogos.push(catalogo);
  }

  removerCatalogo(catalogo: Catalogo): void {
    const index = this.catalogos.indexOf(catalogo);
    if (index !== -1) {
      this.catalogos.splice(index, 1);
    }
  }

  getDados(): void {
    this.catalogos.forEach((catalogo) => {
      console.log(`Categoria: ${this.nome}`);
      catalogo.getDados();
    });
  }
}
```

## 6. Vídeo

<font size="2"><p style="text-align: center">Vídeo 1 - Código Composite.</p></font>

<center>
<iframe 
  width="560" 
  height="315" 
  src="https://www.youtube.com/embed/mn_tPCFn2Jg" 
  title="Composite - AquiTemFCTE" 
  frameborder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
  allowfullscreen>
</iframe>
</center>

## 7. Referências

> Erich Gamma, Richard Helm, Ralph Johnson e John Vlissides. Design Patterns: Elements os Reusable Object-Oriented Software. Addison-Wesley, 1995.

> SERRANO, Milene, Arquitetura e Desenho de Software - Aula - GOFS Estruturais. Disponível em: https://aprender3.unb.br/pluginfile.php/3178543/mod_page/content/1/Arquitetura%20e%20Desenho%20de%20Software%20-%20Aula%20GoFs%20Estruturais%20-%20Profa.%20Milene.pdf. Universidade de Brasília - UnB. Brasília. Acesso em 18 de outubro de 2025.

## Histórico de Versões
| Versão | Data | Descrição | Autor(es) | Revisor(es) | Detalhes da Revisão |
| -- | -- | -- | -- | -- | -- |
| 1.0 | 18/10/2025 | Desenvolvimento inicial do documento com Introdução | [Caio Sabino](https://github.com/caiomsabino) | [Daniel Rodrigues](https://github.com/DanielRogs) | Falta inserir numeros por tópico |
| 1.1 | 20/10/2025 | Adição de numeros em cada topico | [Daniel Rodrigues](https://github.com/DanielRogs) | [Caio Sabino](https://github.com/caiomsabino) | Nenhum erro identificado |
